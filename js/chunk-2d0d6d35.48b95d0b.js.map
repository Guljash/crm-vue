{"version":3,"sources":["webpack:///./src/views/Register.vue","webpack:///./src/views/Register.vue?be94"],"names":["class","for","type","submitHandler","id","v$","email","$error","$errors","error","index","key","printError","$validator","password","$params","min","name","agree","to","setup","data","methods","$touch","formData","$store","dispatch","$router","push","console","log","$name","$param","validations","required","minLength","checked","v","render"],"mappings":"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","file":"js/chunk-2d0d6d35.48b95d0b.js","sourcesContent":["<template>\n  <form class=\"card auth-card\" @submit.prevent=\"submitHandler\">\n    <div class=\"card-content\">\n      <span class=\"card-title\">Домашняя бухгалтерия</span>\n      <div class=\"input-field\">\n        <input\n          id=\"email\"\n          type=\"text\"\n          class=\"validate\"\n          v-model.trim=\"email\"\n          :class=\"{ invalid: v$.email.$error }\"\n        />\n        <label for=\"email\">Email</label>\n        <small\n          class=\"helper-text invalid\"\n          v-for=\"(error, index) of v$.email.$errors\"\n          :key=\"index\"\n        >\n          {{ printError(error.$validator) }}\n        </small>\n      </div>\n      <div class=\"input-field\">\n        <input\n          id=\"password\"\n          type=\"password\"\n          class=\"validate\"\n          v-model=\"password\"\n          :class=\"{ invalid: v$.password.$error }\"\n        />\n        <label for=\"password\">Пароль</label>\n        <small\n          class=\"helper-text invalid\"\n          v-for=\"(error, index) of v$.password.$errors\"\n          :key=\"index\"\n        >\n          {{ printError(error.$validator, error.$params.min) }}\n        </small>\n      </div>\n      <div class=\"input-field\">\n        <input\n          id=\"name\"\n          type=\"text\"\n          class=\"validate\"\n          :class=\"{ invalid: v$.name.$error }\"\n          v-model.trim=\"name\"\n        />\n        <label for=\"name\">Имя</label>\n        <small\n          class=\"helper-text invalid\"\n          v-for=\"(error, index) of v$.name.$errors\"\n          :key=\"index\"\n        >\n          {{ printError(error.$validator) }}\n        </small>\n      </div>\n      <p>\n        <label>\n          <input type=\"checkbox\" v-model=\"agree\" />\n          <span>С правилами согласен</span>\n        </label>\n      </p>\n    </div>\n    <div class=\"card-action\">\n      <div>\n        <button class=\"btn waves-effect waves-light auth-submit\" type=\"submit\">\n          Зарегистрироваться\n          <i class=\"material-icons right\">send</i>\n        </button>\n      </div>\n\n      <p class=\"center\">\n        Уже есть аккаунт?\n        <router-link to=\"/login\">Войти!</router-link>\n      </p>\n    </div>\n  </form>\n</template>\n\n<script>\nimport useVuelidate from \"@vuelidate/core\";\nimport { required, email, minLength } from \"@vuelidate/validators\";\n\nexport default {\n  name: \"login\",\n  setup() {\n    return { v$: useVuelidate() };\n  },\n  data() {\n    return {\n      email: \"\",\n      password: \"\",\n      name: \"\",\n      agree: false,\n    };\n  },\n  methods: {\n    async submitHandler() {\n      this.v$.$touch();\n      if (this.v$.$error) return;\n\n      const formData = {\n        email: this.email,\n        password: this.password,\n        name: this.name,\n      };\n\n      try {\n        await this.$store.dispatch(\"register\", formData);\n        this.$router.push(\"/\");\n      } catch (e) {\n        console.log(e);\n        throw e;\n      }\n    },\n    printError($name, $param) {\n      if ($name === \"required\") {\n        return \"Поле не должно быть пустым\";\n      } else if ($name === \"minLength\") {\n        return \"Минимальная длина должна быть \" + $param + \" символов\";\n      } else if ($name === \"email\") {\n        return \"Адрес электронной почты был введен неправильно\";\n      }\n    },\n  },\n  validations: {\n    email: { required, email },\n    password: { required, minLength: minLength(6) },\n    name: { required },\n    agree: { checked: (v) => v },\n  },\n};\n</script>\n","import { render } from \"./Register.vue?vue&type=template&id=696a07b2\"\nimport script from \"./Register.vue?vue&type=script&lang=js\"\nexport * from \"./Register.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}